FROM caddy:2-alpine

# Create log directory
RUN mkdir -p /var/log/caddy

# Set proper permissions (using numeric IDs since caddy user might not exist)
RUN chown -R 1000:1000 /var/log/caddy

# Copy custom Caddyfile
COPY Caddyfile /etc/caddy/Caddyfile

# Set proper permissions for Caddyfile
RUN chown 1000:1000 /etc/caddy/Caddyfile
 